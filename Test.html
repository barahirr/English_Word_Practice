<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<title>Kategorili Kelime Eşleştirme Oyunu</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body{font-family:Arial,sans-serif;background:#f4f7fb;margin:0;padding:20px;}
  h1{text-align:center;margin:6px 0 16px;}
  .topbar{display:flex;justify-content:center;gap:12px;margin-bottom:16px;flex-wrap:wrap;}
  select,button{padding:8px 12px;font-size:15px;border-radius:6px;border:1px solid #ccc;background:#fff;}
  .game{display:flex;gap:40px;justify-content:center;flex-wrap:wrap;}
  .column {
    display: grid;
    grid-template-columns: repeat(3, 160px);
    column-gap: 30px;
    row-gap: 20px;
    margin-bottom: 12px;
    justify-content: center;
  }
  .card{
    height:100px;width:140px;display:flex;flex-direction:column;align-items:center;justify-content:center;
    background:#fff8dc;border:2px solid #d4a017;border-radius:10px;cursor:pointer;font-weight:bold;
    transition:0.18s;text-align:center;padding:6px;user-select:none;
  }
  .card:hover{transform:translateY(-4px);box-shadow:0 6px 14px rgba(0,0,0,0.08);}
  .card.selected{background:#add8e6;border-color:#4682b4;}
  .card.matched{background:#90ee90;border-color:#2e7d32;color:#1b5e20;cursor:default;box-shadow:none;}
  .card.wrong{background:#f08080 !important;border-color:#c0392b !important;color:#fff;}
  .status{text-align:center;margin-top:18px;font-size:16px;}
  @media(max-width:520px){
    .column{grid-template-columns:repeat(2,42vw);}
    .card{width:42vw;height:90px;font-size:14px;}
  }
  /* Skor tablosu kutusu */
  #scoreBoardBox {
    position:absolute; 
    left:20px; 
    top:120px; 
    width:200px; 
    border:2px solid orange; 
    padding:8px; 
    background:#fff;
  }
  #scoreBoardBox h3 {
    color:darkorange; 
    font-size:16px; 
    text-align:center; 
    margin:4px 0 8px 0;
  }
  #scoreList {
    padding-left:20px; 
    font-size:14px; 
    color:#333;
  }
</style>
</head>
<body>

<h1>Kategorili Kelime Eşleştirme Oyunu</h1>

<div class="topbar">
  <label>Kategori:
    <select id="categorySelect">
      <option value="Aile">Aile</option>
      <option value="countries">Ülkeler</option>
      <option value="People_at_school">Okuldaki İnsanlar</option>
      <option value="school">Okul Kuralları</option>
      <option value="Önemli_Kelimeler">Önemli Kelimeler</option>
      <option value="Okuldaki_Yerler">Okuldaki Yerler</option>
      <option value="Okul_Klübü">Okul Klübü</option>
      <option value="Resmi_Tatiller">Resmi Tatiller</option>
    </select>
  </label>
  <label>Süre:
    <select id="timeSelect">
      <option value="0">Sınırsız</option>
      <option value="30">30 sn</option>
      <option value="60">60 sn</option>
    </select>
  </label>
  <button id="newBtn">Yeni Oyun</button>
  <button id="toggleImagesBtn">Görselleri Gizle</button>
  <div id="status" class="status">Puan: 0</div>
</div>

<!-- Skor tablosu kutusu -->
<div id="scoreBoardBox">
  <h3>Skor Tablosu</h3>
  <ol id="scoreList"></ol>
</div>

<div class="game">
  <div class="column" id="englishCol"></div>
  <div class="column" id="turkishCol"></div>
</div>

<script>
/* ===== Kategoriye Göre Kelimeler ===== */
const WORD_SETS = {
  Aile: [
    {en:"Mother", tr:"Anne", img:"https://img.icons8.com/fluency/96/mother.png"},
    {en:"Father", tr:"Baba", img:"https://img.icons8.com/?size=100&id=2K3aCA8MSSKL&format=png&color=000000"},
    {en:"Sister", tr:"Kız Kardeş", img:"https://img.icons8.com/?size=100&id=PVYFvgPlVSTi&format=png&color=000000"},
    {en:"Brother", tr:"Erkek Kardeş", img:"https://img.icons8.com/?size=100&id=Pz87K0EGoCcH&format=png&color=000000"},
    {en:"Grandmother", tr:"Büyükanne", img:"https://img.icons8.com/?size=100&id=118263&format=png&color=000000"},
    {en:"Grandfather", tr:"Büyükbaba", img:"https://img.icons8.com/?size=100&id=118242&format=png&color=000000"},
    {en:"Uncle", tr:"Amca / Dayı", img:"https://img.icons8.com/?size=100&id=vWGIHLOdoUCu&format=png&color=000000"},
    {en:"Aunt", tr:"Teyze / Hala", img:"https://img.icons8.com/?size=100&id=67418&format=png&color=000000"},
    {en:"Cousin", tr:"Kuzen", img:"https://img.icons8.com/?size=100&id=OYwtttzJwwPM&format=png&color=000000"},
    {en:"Son", tr:"Oğul", img:"https://img.icons8.com/?size=100&id=80976&format=png&color=000000"},
    {en:"Daughter", tr:"Kız Evlat", img:"https://img.icons8.com/?size=100&id=Tz7F18r2ScyJ&format=png&color=000000"},
    {en:"Nephew", tr:"Erkek Yeğen", img:"https://img.icons8.com/?size=100&id=dlxq834FgFbq&format=png&color=000000"},
    {en:"Niece", tr:"Kız Yeğen", img:"https://img.icons8.com/?size=100&id=yQebeUsniRV6&format=png&color=000000"},
    {en:"Baby", tr:"Bebek", img:"https://img.icons8.com/fluency/96/baby.png"},
    {en:"Parents", tr:"Ebeveynler", img:"https://img.icons8.com/?size=100&id=oXRBD7zUrO2g&format=png&color=000000"},
    {en:"Children", tr:"Çocuklar", img:"https://img.icons8.com/fluency/96/children.png"},
    {en:"Husband", tr:"Koca", img:"https://img.icons8.com/?size=100&id=0QAG3DFKpzGa&format=png&color=000000"},
    {en:"Wife", tr:"Eş (Kadın)", img:"https://img.icons8.com/?size=100&id=cTWlDTMm9NfY&format=png&color=000000"},
    {en:"Family", tr:"Aile", img:"https://img.icons8.com/fluency/96/family.png"}
  ],
  countries: [
    {en:"Argentina", tr:"Arjantin", img:"https://img.icons8.com/color/96/argentina-circular.png"},
    {en:"Australia", tr:"Avustralya", img:"https://img.icons8.com/color/96/australia-circular.png"},
    {en:"Azerbaijan", tr:"Azerbaycan", img:"https://img.icons8.com/color/96/azerbaijan-circular.png"},
    {en:"Brazil", tr:"Brezilya", img:"https://img.icons8.com/color/96/brazil-circular.png"},
    {en:"Canada", tr:"Kanada", img:"https://img.icons8.com/color/96/canada-circular.png"},
    {en:"China", tr:"Çin", img:"https://img.icons8.com/color/96/china-circular.png"},
    {en:"Egypt", tr:"Mısır", img:"https://img.icons8.com/color/96/egypt-circular.png"},
    {en:"France", tr:"Fransa", img:"https://img.icons8.com/color/96/france-circular.png"},
    {en:"Germany", tr:"Almanya", img:"https://img.icons8.com/color/96/germany-circular.png"},
    {en:"Greece", tr:"Yunanistan", img:"https://img.icons8.com/color/96/greece-circular.png"},
    {en:"Italy", tr:"İtalya", img:"https://img.icons8.com/color/96/italy-circular.png"},
    {en:"Japan", tr:"Japonya", img:"https://img.icons8.com/color/96/japan-circular.png"},
    {en:"Kazakhstan", tr:"Kazakistan", img:"https://img.icons8.com/color/96/kazakhstan-circular.png"},
    {en:"Kyrgyzstan", tr:"Kırgızistan", img:"https://img.icons8.com/color/96/kyrgyzstan-circular.png"},
    {en:"Mexico", tr:"Meksika", img:"https://img.icons8.com/color/96/mexico-circular.png"},
    {en:"Russia", tr:"Rusya", img:"https://img.icons8.com/?size=100&id=vioRCshpCBKv&format=png&color=000000"},
    {en:"South Korea", tr:"Güney Kore", img:"https://img.icons8.com/color/96/south-korea-circular.png"},
    {en:"Spain", tr:"İspanya", img:"https://img.icons8.com/color/96/spain-circular.png"},
    {en:"The United Kingdom", tr:"Birleşik Krallık", img:"https://img.icons8.com/color/96/great-britain-circular.png"},
    {en:"The United States", tr:"Amerika Birleşik Devletleri", img:"https://img.icons8.com/color/96/usa-circular.png"},
    {en:"Turkish Republic of Northern Cyprus", tr:"Kuzey Kıbrıs Türk Cumhuriyeti", img:"https://img.icons8.com/color/96/cyprus-circular.png"},
    {en:"Turkmenistan", tr:"Türkmenistan", img:"https://img.icons8.com/color/96/turkmenistan-circular.png"},
    {en:"Uzbekistan", tr:"Özbekistan", img:"https://img.icons8.com/color/96/uzbekistan-circular.png"}
  ]
  // Diğer kategoriler senin dosyandaki gibi kalıyor...
};

let playerName = prompt("Adınızı giriniz:") || "Misafir";
function saveScore(name, score) {
  let scores = JSON.parse(localStorage.getItem("scores")) || {};
  scores[name] = (scores[name] || 0) + score;
  localStorage.setItem("scores", JSON.stringify(scores));
}
function updateScoreBoard() {
  let scores = JSON.parse(localStorage.getItem("scores")) || {};
  let list = document.getElementById("scoreList");
  list.innerHTML = "";
  let sorted = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
  sorted.forEach(([name, sc])=>{
    let li = document.createElement("li");
    li.textContent = `${name}: ${sc} puan`;
    list.appendChild(li);
  });
}

let currentWords = WORD_SETS.Aile; // Başlangıç
let selected=null,timer=null,timeLeft=0,score=0;
let imagesHidden=false;

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

function newGame(){
  clearInterval(timer);
  selected=null;score=0;
  updateStatus();

  const engCol=document.getElementById("englishCol");
  const trCol=document.getElementById("turkishCol");
  engCol.innerHTML=""; trCol.innerHTML="";

  shuffle([...currentWords]).forEach(w=>{
    const d=document.createElement("div");
    d.className="card";
    d.innerHTML=`<img src="${w.img}" style="width:48px;height:48px;margin-bottom:8px;"><div>${w.en}</div>`;
    d.dataset.index=currentWords.findIndex(x=>x.en===w.en);
    d.dataset.lang="en";
    d.addEventListener("click",()=>selectCard(d));
    engCol.appendChild(d);
  });

  shuffle([...currentWords]).forEach(w=>{
    const d=document.createElement("div");
    d.className="card";
    d.innerHTML=`<img src="${w.img}" style="width:48px;height:48px;margin-bottom:8px;"><div>${w.tr}</div>`;
    d.dataset.index=currentWords.findIndex(x=>x.tr===w.tr);
    d.dataset.lang="tr";
    d.addEventListener("click",()=>selectCard(d));
    trCol.appendChild(d);
  });

  timeLeft=parseInt(document.getElementById("timeSelect").value);
  if(timeLeft>0){
    timer=setInterval(()=>{
      timeLeft--; updateStatus();
      if(timeLeft<=0){
        clearInterval(timer); disableAll();
        setTimeout(()=>alert("⏰ Süre doldu! Puanın: "+score),50);
      }
    },1000);
  }

  if (imagesHidden) {
    document.querySelectorAll("#englishCol .card img").forEach(img=>{
      img.style.display="none";
    });
  }
}

function updateStatus(){
  const st=document.getElementById("status");
  st.textContent = timeLeft>0 ? `Süre: ${timeLeft} sn | Puan: ${score}` : `Puan: ${score}`;
}

function disableAll(){
  document.querySelectorAll(".card").forEach(c=>c.style.pointerEvents="none");
}

function selectCard(card){
  if(card.dataset.lang==="en"){
    const u=new SpeechSynthesisUtterance(card.textContent.trim());
    u.lang="en-US"; speechSynthesis.speak(u);
  }
  if(card.classList.contains("matched")) return;
  if(!selected){ card.classList.add("selected"); selected=card; return; }
  if(card===selected) return;

  if(card.dataset.index===selected.dataset.index && card.dataset.lang!==selected.dataset.lang){
    card.classList.add("matched"); selected.classList.add("matched");
    card.classList.remove("selected"); selected.classList.remove("selected");
    score+=10; updateStatus(); selected=null;
    if(document.querySelectorAll(".matched").length===currentWords.length*2){
      clearInterval(timer); score+=50; updateStatus();
      saveScore(playerName, score);
      updateScoreBoard();
      setTimeout(()=>alert("🎉 Tebrikler! Toplam Puan: "+score),300);
    }
  }else{
    card.classList.add("wrong"); selected.classList.add("wrong");
    score-=5; updateStatus();
    setTimeout(()=>{
      card.classList.remove("wrong","selected");
      selected.classList.remove("wrong","selected");
      selected=null;
    },600);
  }
}

document.getElementById("newBtn").addEventListener("click", newGame);
document.getElementById("categorySelect").addEventListener("change",e=>{
  currentWords = WORD_SETS[e.target.value];
  newGame();
});
const toggleBtn=document.getElementById("toggleImagesBtn");
toggleBtn.addEventListener("click",()=>{
  imagesHidden=!imagesHidden;
  document.querySelectorAll("#englishCol .card img").forEach(img=>{
    img.style.display=imagesHidden?"none":"block";
  });
  toggleBtn.textContent=imagesHidden?"Görselleri Göster":"Görselleri Gizle";
});

/* İlk açılış */
newGame();
updateScoreBoard();
</script>
</body>
</html>
